# CI/CD - Основы виртуализации и контейнеризации

* [](#)
* [](#)
* [](#)
* [Основные понятия](#Основные-понятия)

## <a id="Основные-понятия">Основные понятия</a>

```txt
1 - Понятия виртуализации и контейнеризации, какие проблемы они решают. 
2 - Отличия между виртуализацией и контейнеризацией.
3 - Linux Namespaces.
```

### Notice-4

```txt
1 - Что такое виртуализация? Что такое контейнеризация?

->  Виртуализация - это технология, позволяющая создавать виртуальные
    машины, работающие на физическом сервере. Каждая виртуальная машина
    имеет свой собственный операционную систему и ресурсы.
    
    Контейнеризация - это технология, позволяющая запускать приложения
    в изолированном окружении, без создания виртуальной машины.
    Контейнеры используют общую операционную систему и ресурсы хоста.
```

### Intern-4

```txt
1 - В чём отличия между виртуализацией и контейнеризацией?

->  Отличия: 
    - виртуализация создает виртуальную машину,
    - контейнеризация - изолированное окружение. 
    Виртуализация требует больше ресурсов, контейнеризация - меньше.
    Виртуализация обеспечивает полную изоляцию, контейнеризация - частичную.

    Гипервизор (Hypervisor) - это программное обеспечение, которое
    позволяет создавать и управлять виртуальными машинами (ВМ) на
    физическом компьютере. Гипервизор работает между операционной
    системой и физическим оборудованием, обеспечивая изоляцию и управление
    ресурсами для каждой ВМ.
```

|           |    Виртуализация    |    Контейнеризация    |
| ----------- | ----------- | ----------- |
|    Уровень абстракции    |    Высокий уровень за счет разделения аппаратных ресурсов    |    Низкий уровень. Изолирует ОС и их зависимости    |
|    Изоляция  |    Разделение аппаратных ресурсов за между несколькими ВМ    |    Лучшая изоляция, так как они используют механизмы ядра для разделения ресурсов (память, процессор, устройства)    |
|    Производительность    |    Гипервизор    |    Используется механизм ядра (better)    |
|    Масштабируемость    |    Необходимость перераспределение ресурсов между ВМ    |    Better. Создавать, останавливать, удалять контейнеры без влияния на другие контейнеры    |
|    Управление ресурсами    |    ВМ делать общие ресурсы в рамках компьютера    |    Каждый контейнер имеет свои собственные ресурсы и не влияет на другие контейнеры    |
|    Совместимость    |    Может быть ограничена определенным гипервизовом и ПО    |    Более совместима, так как работает на различных ОС и платформах    |
|    Стоимость    |    Больше ресурсов и оборудования    |    Более экономичное, так как требуется меньше ресурсов и может использоваться на существующем оборудовании    |

```txt
2 - В чем преимущества и недостатки каждого из подходов? 

->  Виртуализация:
    - плюсы - полная изоляция, возможность использования разных
    операционных систем,
    - минусы - высокая нагрузка на ресурсы, сложность управления.
    
    Контейнеризация: 
    - плюсы - низкая нагрузка на ресурсы, простота управления 
    (легкость развертывания, масштабируемость),
    - минусы - не полная изоляция, ограничения в использовании
    ресурсов.
```

### Advanced-4

```txt
1 - На каких механизмах основана работа контейнеризации в Linux?

->  Контейнеризация в Linux основана на механизме Namespaces
    (пространства имён) и Control Groups (группы управления). Namespaces
    позволяют изолировать ресурсы, такие как файловые системы, сокеты и процессы,
    между контейнерами, в то время как Control Groups позволяют ограничивать
    ресурсы, такие как CPU, память и ввод/вывод, для каждого контейнера.
```

```txt
2 - Какие есть типы  Linux Namespaces?

->  - mt (PID) - изоляция процессов: позволяет каждому контейнеру иметь
    свой собственный набор процессов, которые не видны из других контейнеров.
    - mnt (FS) - изоляция файловой системы: позволяет каждому контейнеру
    иметь свой собственный набор монтированных файловых систем, которые
    не видны из других контейнеров.
    - net (Network) - изоляция сетевых ресурсов: позволяет каждому
    контейнеру иметь свой собственный сетевой стек, включая IP-адреса, порты и т. д.
    - ipc (IPC) - изоляция межпроцессного взаимодействия: позволяет
    каждому контейнеру иметь свой собственный набор механизмов
    межпроцессного взаимодействия, таких как сокеты и семафоры.
    - user (UID) - изоляция пользователей: позволяет каждому контейнеру
    иметь свой собственный набор пользователей и групп, которые не видны
    из других контейнеров.
    - uts (Hostname) - изоляция имени хоста: позволяет каждому контейнеру
    иметь свой собственный hostname, который не виден из других контейнеров.
    - cgroup (cgroups) - управление ресурсами: позволяет управлять ресурсами,
    такими как CPU, память и ввод/вывод, для каждого контейнера.
```

```txt
3 -  Как посмотреть список существующих Namespaces?

->  Командой lsns. Эта команда выводит список всех существующих
    Namespaces на хосте. Также можно использовать команду
    nsenter, чтобы войти в конкретный Namespace.
    Опции:
    -t или --type: указывает тип Namespaces, который нужно вывести
    (например, -t pid для вывода только PID Namespaces)
    -u или --uid: указывает UID пользователя, для которого нужно вывести Namespaces
    -g или --gid: указывает GID группы, для которой нужно вывести Namespaces
    -p или --pid: указывает PID процесса, для которого нужно вывести Namespaces
    Примеры использования команды lsns:
    lsns: выводит список всех существующих Namespaces на системе
    lsns -t pid: выводит список только PID Namespaces
    lsns -u 1000: выводит список Namespaces для пользователя с UID 1000
    lsns -p 1234: выводит список Namespaces для процесса с PID 1234
```
